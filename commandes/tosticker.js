const a35_0x14cab9=a35_0x185d;(function(_0x1cf2ce,_0x540f42){const _0xea48c3=a35_0x185d,_0x575a25=_0x1cf2ce();while(!![]){try{const _0x389960=-parseInt(_0xea48c3(0x1d2))/0x1*(-parseInt(_0xea48c3(0x1b9))/0x2)+-parseInt(_0xea48c3(0x1ba))/0x3+parseInt(_0xea48c3(0x1d4))/0x4*(-parseInt(_0xea48c3(0x1db))/0x5)+parseInt(_0xea48c3(0x1d0))/0x6+parseInt(_0xea48c3(0x1d6))/0x7+-parseInt(_0xea48c3(0x1cf))/0x8*(parseInt(_0xea48c3(0x1cd))/0x9)+-parseInt(_0xea48c3(0x1c5))/0xa;if(_0x389960===_0x540f42)break;else _0x575a25['push'](_0x575a25['shift']());}catch(_0x537672){_0x575a25['push'](_0x575a25['shift']());}}}(a35_0x5804,0x5ae17));import{send_reaction_message,send_text_message,send_sticker_message}from'../utils/sendmessagewa.js';import{listerPremierFichierTemporaire,supprimerFichierCommencantPar}from'../utils/vu_unique.js';import{convertToStickerimage}from'../utils/convert_to_webp.js';import{convertToStickervideo}from'../utils/convert_to_webm.js';import a35_0x241f24 from'../utils/download_media.js';import{join}from'path';function a35_0x185d(_0x37680e,_0x3d0786){const _0x580467=a35_0x5804();return a35_0x185d=function(_0x185d7c,_0x1441a4){_0x185d7c=_0x185d7c-0x1b7;let _0x24296a=_0x580467[_0x185d7c];return _0x24296a;},a35_0x185d(_0x37680e,_0x3d0786);}import{unlink}from'fs/promises';import{existsSync}from'fs';import a35_0x28e306 from'dotenv';function a35_0x5804(){const _0x7d4012=['‚ö†Ô∏è\x20Veuillez\x20r√©pondre\x20√†\x20un\x20m√©dia\x20(image\x20ou\x20vid√©o)\x20pour\x20le\x20transformer\x20en\x20sticker','Seules\x20les\x20images\x20et\x20vid√©os\x20peuvent\x20√™tre\x20transform√©es\x20en\x20stickers','quotedMessage','\x20ùëΩùë®ùëµùë∫ùë©ùë∂ùëª\x20À£·¥π·¥∞\x20·¥∫·¥±·µÇ\x20·¥≥·¥±·¥∫·¥±·¥ø·¥¨·µÄ·¥µ·¥º·¥∫','remoteJid','VANSBOT','5665410JRiFrR','warn','message','√âchec\x20de\x20la\x20conversion\x20en\x20sticker','stanzaId','extendedTextMessage','replace','Avertissement\x20lors\x20du\x20nettoyage:','1049922NDnAiD','gif','8cRprrT','2378628GRwQLl','√âchec\x20du\x20t√©l√©chargement\x20du\x20m√©dia','4rSIKZl','type','8lzLPvi','.webp','4928182mnaHLn','pushName','config','tosticker','env','1392245ywhkSh','Erreur\x20dans\x20transform_to_sticker:\x20','Fichier\x20t√©l√©charg√©\x20introuvable','mark','contextInfo','MEDIA_PATH','266350FtmxxJ','62460edmdRr','sendMessage','error','chemin','videoMessage'];a35_0x5804=function(){return _0x7d4012;};return a35_0x5804();}import{modifyLocalSticker}from'./take.js';a35_0x28e306[a35_0x14cab9(0x1d8)]();const MEDIA_PATH=process[a35_0x14cab9(0x1da)][a35_0x14cab9(0x1b8)];export const transform_to_sticker=async(_0x448212,_0x5ad072,_0x652c3b,_0x3e7ef1)=>{const _0x5e702a=a35_0x14cab9;let _0x3becc7;_0x3e7ef1[0x0]==_0x5e702a(0x1de)?_0x3becc7=!![]:_0x3becc7=![];const _0xf073d1=_0x5e702a(0x1d9),_0x3c224a=_0x3becc7?_0x5ad072['pushName']||_0x5e702a(0x1c4):'';if(!_0x5ad072[_0x5e702a(0x1c7)]?.[_0x5e702a(0x1ca)]?.[_0x5e702a(0x1b7)]?.[_0x5e702a(0x1c1)])return await send_reaction_message(_0x448212,_0x5ad072,_0x652c3b,'‚ùå'),send_text_message(_0x448212,_0x5ad072,_0x5e702a(0x1bf),_0x652c3b,undefined,!![],![],!![]);let _0x39282f,_0x5d9ca6;try{await send_reaction_message(_0x448212,_0x5ad072,_0x652c3b,'üîÑ');const _0x2ecb65={'key':{'remoteJid':_0x5ad072['key'][_0x5e702a(0x1c3)],'id':_0x5ad072[_0x5e702a(0x1c7)]['extendedTextMessage']['contextInfo'][_0x5e702a(0x1c9)],'fromMe':![]},'message':_0x5ad072[_0x5e702a(0x1c7)][_0x5e702a(0x1ca)]['contextInfo']['quotedMessage']},_0x39f4a4=_0x2ecb65[_0x5e702a(0x1c7)]?.['imageMessage'],_0x159e11=_0x2ecb65[_0x5e702a(0x1c7)]?.[_0x5e702a(0x1be)];if(!_0x39f4a4&&!_0x159e11)throw new Error(_0x5e702a(0x1c0));const _0x35a125=await a35_0x241f24(_0x448212,_0x2ecb65,_0xf073d1);if(!_0x35a125)throw new Error(_0x5e702a(0x1d1));_0x39282f=join(MEDIA_PATH,_0x35a125[_0x5e702a(0x1bd)]);if(!existsSync(_0x39282f))throw new Error(_0x5e702a(0x1dd));_0x35a125[_0x5e702a(0x1d3)]==='video'||_0x35a125[_0x5e702a(0x1d3)]===_0x5e702a(0x1ce)?(_0x5d9ca6=_0x39282f[_0x5e702a(0x1cb)](/\.[^.]+$/,_0x5e702a(0x1d5)),await convertToStickervideo(_0x39282f,_0x5d9ca6)):(_0x5d9ca6=_0x39282f[_0x5e702a(0x1cb)](/\.[^.]+$/,_0x5e702a(0x1d5)),await convertToStickerimage(_0x39282f,_0x5d9ca6,_0x3c224a));if(!existsSync(_0x5d9ca6))throw new Error(_0x5e702a(0x1c8));const _0x2974d1=await modifyLocalSticker(_0x5d9ca6,_0x5ad072[_0x5e702a(0x1d7)],_0x5e702a(0x1c2));await _0x448212[_0x5e702a(0x1bb)](_0x652c3b,{'sticker':_0x2974d1}),await send_reaction_message(_0x448212,_0x5ad072,_0x652c3b,'‚úÖ');}catch(_0x108844){await send_reaction_message(_0x448212,_0x5ad072,_0x652c3b,'‚ùå'),console[_0x5e702a(0x1bc)](_0x5e702a(0x1dc)+_0x108844['message']);}finally{try{if(_0x39282f&&existsSync(_0x39282f))await unlink(_0x39282f);if(_0x5d9ca6&&existsSync(_0x5d9ca6))await unlink(_0x5d9ca6);}catch(_0x21e8a4){console[_0x5e702a(0x1c6)](_0x5e702a(0x1cc),_0x21e8a4[_0x5e702a(0x1c7)]);}}};