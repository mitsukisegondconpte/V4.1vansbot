const a34_0x553ae6=a34_0x9a38;(function(_0x33875a,_0x3d9604){const _0x218494=a34_0x9a38,_0x550560=_0x33875a();while(!![]){try{const _0x94bba5=-parseInt(_0x218494(0xf1))/0x1*(-parseInt(_0x218494(0xe6))/0x2)+-parseInt(_0x218494(0xfb))/0x3*(-parseInt(_0x218494(0xf5))/0x4)+-parseInt(_0x218494(0xe7))/0x5+parseInt(_0x218494(0xf7))/0x6*(parseInt(_0x218494(0xf2))/0x7)+-parseInt(_0x218494(0xf3))/0x8+parseInt(_0x218494(0xe3))/0x9+-parseInt(_0x218494(0xed))/0xa*(parseInt(_0x218494(0xe0))/0xb);if(_0x94bba5===_0x3d9604)break;else _0x550560['push'](_0x550560['shift']());}catch(_0x1f1f6d){_0x550560['push'](_0x550560['shift']());}}}(a34_0x1cdb,0xb08d3));import{send_reaction_message,send_text_message}from'../utils/sendmessagewa.js';import{listerPremierFichierTemporaire,supprimerFichierCommencantPar}from'../utils/vu_unique.js';import{convertVideoToOgg}from'../utils/convert_to_audio.js';import a34_0x3675e4 from'../utils/download_media.js';function a34_0x9a38(_0x333140,_0x33a003){const _0x1cdb01=a34_0x1cdb();return a34_0x9a38=function(_0x9a3823,_0x201982){_0x9a3823=_0x9a3823-0xde;let _0x58eda2=_0x1cdb01[_0x9a3823];return _0x58eda2;},a34_0x9a38(_0x333140,_0x33a003);}function a34_0x1cdb(){const _0x2ebcfd=['config','√âchec\x20de\x20la\x20conversion\x20en\x20audio','907798dwkUDL','327765opkKYd','env','Seules\x20les\x20vid√©os\x20peuvent\x20√™tre\x20transform√©es\x20en\x20audio','stanzaId','videoMessage','quotedMessage','20fesnVi','toaudio','sendMessage','key','2TNnTcc','106043WpagIJ','7143440SmXwUE','‚ö†Ô∏è\x20Veuillez\x20r√©pondre\x20√†\x20une\x20vid√©o\x20pour\x20l\x27extraire\x20en\x20audio','8FQTcNF','Fichier\x20t√©l√©charg√©\x20introuvable','168kUaMva','error','audio/mp4','chemin','1511847KLMWvl','MEDIA_PATH','.mp3','9117735vWBLGt','extendedTextMessage','message','8995860ZAEZRc'];a34_0x1cdb=function(){return _0x2ebcfd;};return a34_0x1cdb();}import{join}from'path';import{unlink}from'fs/promises';import{existsSync}from'fs';import a34_0x356260 from'dotenv';a34_0x356260[a34_0x553ae6(0xe4)]();const MEDIA_PATH=process[a34_0x553ae6(0xe8)][a34_0x553ae6(0xde)];export const transform_to_audio=async(_0x10cd05,_0x1c903e,_0x1a54c4,_0x11c5ad)=>{const _0x408646=a34_0x553ae6;if(!_0x1c903e[_0x408646(0xe2)]?.[_0x408646(0xe1)]?.['contextInfo']?.['quotedMessage'])return await send_reaction_message(_0x10cd05,_0x1c903e,_0x1a54c4,'‚ùå'),send_text_message(_0x10cd05,_0x1c903e,_0x408646(0xf4),_0x1a54c4,undefined,!![],![],!![]);let _0x4aa33c,_0x2d9813;try{await send_reaction_message(_0x10cd05,_0x1c903e,_0x1a54c4,'üîÑ');const _0x10dced={'key':{'remoteJid':_0x1c903e[_0x408646(0xf0)]['remoteJid'],'id':_0x1c903e[_0x408646(0xe2)][_0x408646(0xe1)]['contextInfo'][_0x408646(0xea)],'fromMe':![]},'message':_0x1c903e['message']['extendedTextMessage']['contextInfo'][_0x408646(0xec)]},_0x5d8ad4=_0x10dced[_0x408646(0xe2)]?.[_0x408646(0xeb)];if(!_0x5d8ad4)throw new Error(_0x408646(0xe9));const _0x29a73e=await a34_0x3675e4(_0x10cd05,_0x10dced,_0x408646(0xee));if(!_0x29a73e)throw new Error('√âchec\x20du\x20t√©l√©chargement\x20de\x20la\x20vid√©o');_0x4aa33c=join(MEDIA_PATH,_0x29a73e[_0x408646(0xfa)]);if(!existsSync(_0x4aa33c))throw new Error(_0x408646(0xf6));_0x2d9813=_0x4aa33c['replace'](/\.[^.]+$/,_0x408646(0xdf)),await convertVideoToOgg(_0x4aa33c,_0x2d9813);if(!existsSync(_0x2d9813))throw new Error(_0x408646(0xe5));await _0x10cd05[_0x408646(0xef)](_0x1a54c4,{'audio':{'url':_0x2d9813},'mimetype':_0x408646(0xf9)}),await send_reaction_message(_0x10cd05,_0x1c903e,_0x1a54c4,'‚úÖ');}catch(_0x7c0bce){await send_reaction_message(_0x10cd05,_0x1c903e,_0x1a54c4,'‚ùå'),console[_0x408646(0xf8)]('Erreur\x20dans\x20transform_to_audio:\x20'+_0x7c0bce[_0x408646(0xe2)]);}finally{try{if(_0x4aa33c&&existsSync(_0x4aa33c))await unlink(_0x4aa33c);if(_0x2d9813&&existsSync(_0x2d9813))await unlink(_0x2d9813);}catch(_0x3a364e){console['warn']('Avertissement\x20lors\x20du\x20nettoyage:',_0x3a364e[_0x408646(0xe2)]);}}};