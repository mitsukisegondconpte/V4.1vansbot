(function(_0x21dd41,_0x372bbc){const _0x1dbb5e=a33_0x45d0,_0x28ac04=_0x21dd41();while(!![]){try{const _0x21eeb2=-parseInt(_0x1dbb5e(0x1b2))/0x1+parseInt(_0x1dbb5e(0x1d2))/0x2*(-parseInt(_0x1dbb5e(0x1c9))/0x3)+parseInt(_0x1dbb5e(0x1af))/0x4+parseInt(_0x1dbb5e(0x1b4))/0x5*(parseInt(_0x1dbb5e(0x1b5))/0x6)+-parseInt(_0x1dbb5e(0x1c1))/0x7*(-parseInt(_0x1dbb5e(0x1cb))/0x8)+parseInt(_0x1dbb5e(0x1bb))/0x9+parseInt(_0x1dbb5e(0x1c6))/0xa*(-parseInt(_0x1dbb5e(0x1bf))/0xb);if(_0x21eeb2===_0x372bbc)break;else _0x28ac04['push'](_0x28ac04['shift']());}catch(_0x39412c){_0x28ac04['push'](_0x28ac04['shift']());}}}(a33_0x21af,0xbd5c8));import a33_0x49683e from'node-fetch';import{send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';export async function sendTikTokVideo(_0x1e0e9c,_0x454a18,_0xa78127){const _0x30a60e=a33_0x45d0,{key:_0x54446d}=_0x454a18,_0x37b42f=_0x54446d[_0x30a60e(0x1ac)];if(_0xa78127[_0x30a60e(0x1d5)]===0x0){await send_text_message(_0x1e0e9c,_0x454a18,_0x30a60e(0x1ce),_0x37b42f,undefined,!![],![],!![]);return;}const _0x28acc=_0xa78127[0x0];try{if(!isValidTikTokUrl(_0x28acc))return await send_text_message(_0x1e0e9c,_0x454a18,'>\x20‚ùå\x20URL\x20TikTok\x20invalide.\x20Exemple\x20:\x20https://www.tiktok.com/@user/video/...',_0x37b42f,undefined,!![],![],!![]);await send_reaction_message(_0x1e0e9c,_0x454a18,_0x37b42f,'‚è≥');const _0x746f19=await _0x1e0e9c[_0x30a60e(0x1ab)](_0x37b42f,{'text':'>\x20üîé\x20Recherche\x20du\x20lien\x20direct\x20TikTok...'}),_0x5e1145=await getDirectTikTokUrl(_0x28acc);if(!_0x5e1145||!_0x5e1145[_0x30a60e(0x1cc)])return await send_text_message(_0x1e0e9c,_0x454a18,_0x30a60e(0x1cd),_0x37b42f,undefined,![],!![],![]);await _0x1e0e9c[_0x30a60e(0x1ab)](_0x37b42f,{'edit':_0x746f19[_0x30a60e(0x1d3)],'text':'üì•\x20T√©l√©chargement\x20en\x20cours...'});const _0xc153c1=await a33_0x49683e(_0x5e1145[_0x30a60e(0x1cc)]);if(!_0xc153c1['ok'])throw new Error('Erreur\x20de\x20t√©l√©chargement:\x20'+_0xc153c1['status']);let _0x3a7de2;if(_0x5e1145[_0x30a60e(0x1b3)])try{const _0x2d62f8=await a33_0x49683e(_0x5e1145[_0x30a60e(0x1b3)]);_0x3a7de2=await _0x2d62f8[_0x30a60e(0x1d1)]();}catch(_0x5e57c3){console[_0x30a60e(0x1b0)]('Erreur\x20thumbnail:',_0x5e57c3);}await _0x1e0e9c[_0x30a60e(0x1ab)](_0x37b42f,{'video':{'stream':_0xc153c1[_0x30a60e(0x1be)],'caption':_0x5e1145[_0x30a60e(0x1ae)]||_0x30a60e(0x1bc),'mimetype':_0x30a60e(0x1c4)},..._0x3a7de2&&{'contextInfo':{'externalAdReply':{'title':(_0x5e1145[_0x30a60e(0x1ae)]||_0x30a60e(0x1bc))[_0x30a60e(0x1d4)](0x0,0x3c),'body':_0x30a60e(0x1b9),'thumbnail':Buffer['from'](_0x3a7de2),'mediaUrl':_0x28acc}}}});}catch(_0x44da50){console[_0x30a60e(0x1b0)](_0x30a60e(0x1c3),_0x44da50),await send_text_message(_0x1e0e9c,_0x454a18,_0x30a60e(0x1cf)+_0x44da50[_0x30a60e(0x1c0)],_0x37b42f,undefined,!![],![],!![]);}}function a33_0x21af(){const _0xad44a5=['includes','8wvMBVv','directUrl','>\x20‚ùå\x20Impossible\x20d\x27obtenir\x20le\x20lien\x20direct.\x20Essayez\x20une\x20autre\x20vid√©o.','>\x20‚ùå\x20Veuillez\x20fournir\x20une\x20URL\x20TikTok\x20valide.','‚ùå\x20√âchec\x20de\x20l\x27envoi.\x20Erreur\x20:\x20','results','arrayBuffer','74ysyeKY','key','slice','length','audio','sendMessage','remoteJid','https://apis.davidcyriltech.my.id/download/tiktokv4?url=','title','6181684RwUQOr','error','tiktok.com','1262275fwaYLn','thumbnail','5440005NybqEM','6JakqbM','vt.tiktok.com','Aucun\x20lien\x20TikTok\x20direct\x20trouv√©','status','Source\x20:\x20TikTok','no_watermark','4728294DFmeTC','Vid√©o\x20TikTok','success','body','1116731XtqsKv','message','1325177wGqVfD','Erreur\x20getTikTokUrl:','Erreur\x20TikTok\x20Downloader:','video/mp4','toLowerCase','10vmTbjh','hostname','vm.tiktok.com','98001KmsHIb'];a33_0x21af=function(){return _0xad44a5;};return a33_0x21af();}function isValidTikTokUrl(_0x3829da){const _0x595c0b=a33_0x45d0;try{const _0x463c7b=new URL(_0x3829da),_0x31c0ce=_0x463c7b[_0x595c0b(0x1c7)][_0x595c0b(0x1c5)]();return _0x31c0ce[_0x595c0b(0x1ca)](_0x595c0b(0x1b1))||_0x31c0ce[_0x595c0b(0x1ca)](_0x595c0b(0x1c8))||_0x31c0ce[_0x595c0b(0x1ca)](_0x595c0b(0x1b6));}catch{return![];}}function a33_0x45d0(_0x3cc376,_0x3c797b){const _0x21afdf=a33_0x21af();return a33_0x45d0=function(_0x45d06c,_0x3a969d){_0x45d06c=_0x45d06c-0x1aa;let _0x49117f=_0x21afdf[_0x45d06c];return _0x49117f;},a33_0x45d0(_0x3cc376,_0x3c797b);}async function getDirectTikTokUrl(_0x32bb70){const _0x32bfe8=a33_0x45d0;try{const _0x322aed=_0x32bfe8(0x1ad)+encodeURIComponent(_0x32bb70),_0x10b8d6=await a33_0x49683e(_0x322aed);if(!_0x10b8d6['ok'])throw new Error('Erreur\x20HTTP:\x20'+_0x10b8d6[_0x32bfe8(0x1b8)]);const _0x12e73e=await _0x10b8d6['json']();if(_0x12e73e[_0x32bfe8(0x1bd)]&&_0x12e73e[_0x32bfe8(0x1d0)]&&_0x12e73e[_0x32bfe8(0x1d0)]['no_watermark'])return{'directUrl':_0x12e73e[_0x32bfe8(0x1d0)][_0x32bfe8(0x1ba)],'title':_0x32bfe8(0x1bc),'thumbnail':_0x12e73e[_0x32bfe8(0x1d0)]['thumbnail'],'audio':_0x12e73e[_0x32bfe8(0x1d0)][_0x32bfe8(0x1aa)]};else throw new Error(_0x32bfe8(0x1b7));}catch(_0x4ca3e4){return console['error'](_0x32bfe8(0x1c2),_0x4ca3e4),null;}}