const a29_0x591fcf=a29_0x3119;(function(_0xd0722d,_0x2d6046){const _0x2a4b4a=a29_0x3119,_0x3c71f8=_0xd0722d();while(!![]){try{const _0x293977=parseInt(_0x2a4b4a(0x1e8))/0x1+parseInt(_0x2a4b4a(0x1fd))/0x2*(parseInt(_0x2a4b4a(0x204))/0x3)+parseInt(_0x2a4b4a(0x1eb))/0x4*(-parseInt(_0x2a4b4a(0x201))/0x5)+parseInt(_0x2a4b4a(0x1f4))/0x6+-parseInt(_0x2a4b4a(0x1fe))/0x7*(-parseInt(_0x2a4b4a(0x1e9))/0x8)+parseInt(_0x2a4b4a(0x1f8))/0x9+-parseInt(_0x2a4b4a(0x1ea))/0xa*(parseInt(_0x2a4b4a(0x1ed))/0xb);if(_0x293977===_0x2d6046)break;else _0x3c71f8['push'](_0x3c71f8['shift']());}catch(_0x4f299e){_0x3c71f8['push'](_0x3c71f8['shift']());}}}(a29_0x5481,0xe52c0));import{send_reaction_message,send_text_message}from'../utils/sendmessagewa.js';function a29_0x3119(_0x561338,_0x39e832){const _0x54813d=a29_0x5481();return a29_0x3119=function(_0x31191b,_0x229f63){_0x31191b=_0x31191b-0x1e4;let _0x46ab9b=_0x54813d[_0x31191b];return _0x46ab9b;},a29_0x3119(_0x561338,_0x39e832);}function a29_0x5481(){const _0x1a021e=['config','358527wZmZFc','722896DuTxla','214450ifddjp','40412dSsIzZ','existsSync','1111fcnojr','extendedTextMessage','imageMessage','remoteJid','chemin','>\x20‚ö†Ô∏è\x20√âchec\x20du\x20t√©l√©chargement\x20de\x20l\x27image.','>\x20üì∏\x20Photo\x20de\x20profil\x20mise\x20√†\x20jour\x20avec\x20succ√®s.','5546934SMjnLn','contextInfo','profilppvans','message','6190011sqgEza','Erreur\x20mise\x20√†\x20jour\x20de\x20la\x20photo\x20de\x20profil:','>\x20‚ö†Ô∏è\x20Aucune\x20image\x20trouv√©e\x20pour\x20la\x20mise\x20√†\x20jour.','image','MEDIA_PATH','1370836FoHlSx','77mLqGuE','>\x20‚ö†Ô∏è\x20√âchec\x20de\x20la\x20mise\x20√†\x20jour\x20de\x20la\x20photo\x20de\x20profil:\x20','env','270gGrCRd','quotedMessage','toBuffer','3QIcUau','resize','jpeg','>\x20‚ö†Ô∏è\x20Le\x20fichier\x20n\x27est\x20pas\x20une\x20image\x20valide.','Le\x20fichier\x20image\x20n\x27existe\x20pas'];a29_0x5481=function(){return _0x1a021e;};return a29_0x5481();}import a29_0x3ee3f3 from'../utils/download_media.js';import{listerPremierFichierTemporaire,supprimerFichierCommencantPar}from'../utils/vu_unique.js';import a29_0x53fd49 from'sharp';import{join}from'path';import a29_0x52130b from'fs';import a29_0x3626fd from'dotenv';a29_0x3626fd[a29_0x591fcf(0x1e7)]();const PREFIXE=process['env']['PREFIXE'],MEDIA_PATH=process[a29_0x591fcf(0x200)][a29_0x591fcf(0x1fc)];export async function updateProfilePicture(_0xc0b6b8,_0x5d993e,_0x212175){const _0x4d5a7e=a29_0x591fcf;if(!_0x5d993e['message']?.[_0x4d5a7e(0x1ee)]?.[_0x4d5a7e(0x1f5)]?.['quotedMessage'])return await send_reaction_message(_0xc0b6b8,_0x5d993e,_0x212175,'‚ùå'),await send_text_message(_0xc0b6b8,_0x5d993e,'>\x20‚ö†Ô∏è\x20Veuillez\x20r√©pondre\x20√†\x20une\x20image\x20pour\x20mettre\x20√†\x20jour\x20la\x20photo\x20de\x20profil.',_0x212175,undefined,!![]),![];const _0x57da24=_0x5d993e['message']['extendedTextMessage'][_0x4d5a7e(0x1f5)][_0x4d5a7e(0x202)];if(!_0x57da24[_0x4d5a7e(0x1ef)])return await send_reaction_message(_0xc0b6b8,_0x5d993e,_0x212175,'‚ùå'),await send_text_message(_0xc0b6b8,_0x5d993e,'>\x20‚ö†Ô∏è\x20Le\x20message\x20cit√©\x20n\x27est\x20pas\x20une\x20image.',_0x212175,undefined,!![],![],!![]),![];try{await send_reaction_message(_0xc0b6b8,_0x5d993e,_0x212175,'‚è≥');const _0x6c6b27={'key':{'remoteJid':_0x5d993e['key'][_0x4d5a7e(0x1f0)],'id':_0x5d993e[_0x4d5a7e(0x1f7)][_0x4d5a7e(0x1ee)][_0x4d5a7e(0x1f5)]['stanzaId'],'fromMe':![]},'message':_0x5d993e['message'][_0x4d5a7e(0x1ee)][_0x4d5a7e(0x1f5)][_0x4d5a7e(0x202)]},_0x31fedd=await a29_0x3ee3f3(_0xc0b6b8,_0x6c6b27,_0x4d5a7e(0x1f6));if(!_0x31fedd)return await send_reaction_message(_0xc0b6b8,_0x5d993e,_0x212175,'‚ùå'),await send_text_message(_0xc0b6b8,_0x5d993e,_0x4d5a7e(0x1f2),_0x212175,undefined,!![],![],!![]),![];const _0x58acd5=await listerPremierFichierTemporaire(MEDIA_PATH,'profilppvans');if(!_0x58acd5)return await send_reaction_message(_0xc0b6b8,_0x5d993e,_0x212175,'‚ùå'),await send_text_message(_0xc0b6b8,_0x5d993e,_0x4d5a7e(0x1fa),_0x212175,undefined,!![],![],!![]),![];if(_0x58acd5['type']!==_0x4d5a7e(0x1fb))return await send_reaction_message(_0xc0b6b8,_0x5d993e,_0x212175,'‚ùå'),await send_text_message(_0xc0b6b8,_0x5d993e,_0x4d5a7e(0x1e5),_0x212175,undefined,!![],![],!![]),![];const _0x16f336=join(MEDIA_PATH,_0x58acd5[_0x4d5a7e(0x1f1)]);if(!a29_0x52130b[_0x4d5a7e(0x1ec)](_0x16f336))throw new Error(_0x4d5a7e(0x1e6));const _0x513a04=await a29_0x53fd49(_0x16f336)[_0x4d5a7e(0x205)](0x1f4,0x1f4)[_0x4d5a7e(0x1e4)]({'quality':0x55})[_0x4d5a7e(0x203)]();return await _0xc0b6b8['updateProfilePicture'](_0xc0b6b8['user']['id'],_0x513a04),await send_reaction_message(_0xc0b6b8,_0x5d993e,_0x212175,'‚úÖ'),await send_text_message(_0xc0b6b8,_0x5d993e,_0x4d5a7e(0x1f3),_0x212175,undefined,!![]),!![];}catch(_0xb11c19){return console['error'](_0x4d5a7e(0x1f9),_0xb11c19),await send_reaction_message(_0xc0b6b8,_0x5d993e,_0x212175,'‚ùå'),await send_text_message(_0xc0b6b8,_0x5d993e,_0x4d5a7e(0x1ff)+_0xb11c19[_0x4d5a7e(0x1f7)],_0x212175,undefined,!![],![],!![]),![];}finally{supprimerFichierCommencantPar(MEDIA_PATH,_0x4d5a7e(0x1f6));}}