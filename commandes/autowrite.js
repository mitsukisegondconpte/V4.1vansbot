const a7_0x538581=a7_0x3770;(function(_0x164c59,_0x12cbc7){const _0x418a02=a7_0x3770,_0x33f723=_0x164c59();while(!![]){try{const _0x368603=-parseInt(_0x418a02(0xdf))/0x1*(parseInt(_0x418a02(0xcb))/0x2)+-parseInt(_0x418a02(0xc7))/0x3*(parseInt(_0x418a02(0xef))/0x4)+parseInt(_0x418a02(0xd4))/0x5+-parseInt(_0x418a02(0xc6))/0x6*(-parseInt(_0x418a02(0xde))/0x7)+-parseInt(_0x418a02(0xce))/0x8+-parseInt(_0x418a02(0xcc))/0x9+parseInt(_0x418a02(0xe5))/0xa;if(_0x368603===_0x12cbc7)break;else _0x33f723['push'](_0x33f723['shift']());}catch(_0x13a5b6){_0x33f723['push'](_0x33f723['shift']());}}}(a7_0x479c,0x8855b));import a7_0x51670d from'fs/promises';import a7_0x4da5b1 from'path';import{fileURLToPath}from'url';import{send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';function a7_0x3770(_0x2b258e,_0x19f224){const _0x479c67=a7_0x479c();return a7_0x3770=function(_0x3770d2,_0x3e99f5){_0x3770d2=_0x3770d2-0xc4;let _0x1c85ac=_0x479c67[_0x3770d2];return _0x1c85ac;},a7_0x3770(_0x2b258e,_0x19f224);}const __dirname=a7_0x4da5b1[a7_0x538581(0xeb)](fileURLToPath(import.meta[a7_0x538581(0xed)])),CONFIG_PATH=a7_0x4da5b1[a7_0x538581(0xcf)](__dirname,'json/autowrite_config.json');let AUTOWRITE_ENABLED=![],AUTOWRITE_DURATION=0xc350;async function loadAutoWriteConfig(){const _0x45131d=a7_0x538581;try{const _0x317dae=await a7_0x51670d[_0x45131d(0xea)](CONFIG_PATH,'utf-8'),_0x23c998=JSON[_0x45131d(0xd0)](_0x317dae);AUTOWRITE_ENABLED=_0x23c998['enabled']||![],AUTOWRITE_DURATION=_0x23c998[_0x45131d(0xe4)]||0x1388;}catch(_0x27a26c){_0x27a26c[_0x45131d(0xe3)]===_0x45131d(0xec)?await saveAutoWriteConfig():console['error'](_0x45131d(0xd8),_0x27a26c);}}async function saveAutoWriteConfig(){const _0x1c73f1=a7_0x538581,_0x590d67={'enabled':AUTOWRITE_ENABLED,'duration':AUTOWRITE_DURATION};await a7_0x51670d['writeFile'](CONFIG_PATH,JSON[_0x1c73f1(0xee)](_0x590d67,null,0x2)),console[_0x1c73f1(0xcd)](_0x1c73f1(0xc8));}export async function enableAutoWrite(_0x27da1d,_0x489d8f,_0x29c0ce,_0xb846d0=null){const _0x441ca7=a7_0x538581;await loadAutoWriteConfig();if(AUTOWRITE_ENABLED)return await send_text_message(_0x27da1d,_0x489d8f,_0x441ca7(0xdd),_0x29c0ce),![];return _0xb846d0&&!isNaN(_0xb846d0)&&(AUTOWRITE_DURATION=parseInt(_0xb846d0)),AUTOWRITE_ENABLED=!![],await saveAutoWriteConfig(),await send_text_message(_0x27da1d,_0x489d8f,_0x441ca7(0xdc)+AUTOWRITE_DURATION+'ms.',_0x29c0ce),!![];}export async function disableAutoWrite(_0x3359e2,_0x1c19a9,_0x58d99d){const _0x43af43=a7_0x538581;await loadAutoWriteConfig();if(!AUTOWRITE_ENABLED)return await send_text_message(_0x3359e2,_0x1c19a9,_0x43af43(0xd6),_0x58d99d),![];return AUTOWRITE_ENABLED=![],await saveAutoWriteConfig(),await send_text_message(_0x3359e2,_0x1c19a9,'>\x20✅\x20L\x27autowrite\x20est\x20maintenant\x20désactivé.',_0x58d99d),console[_0x43af43(0xcd)](_0x43af43(0xc4)),!![];}export async function simulateTyping(_0x3c4598,_0x427bb8,_0x1d2b3b=null){const _0x48aeb5=a7_0x538581;await loadAutoWriteConfig();if(!AUTOWRITE_ENABLED)return;const _0xdad09=_0x1d2b3b||AUTOWRITE_DURATION;try{await _0x3c4598[_0x48aeb5(0xe7)](_0x48aeb5(0xd1),_0x427bb8),console[_0x48aeb5(0xcd)](_0x48aeb5(0xc5)+_0xdad09+_0x48aeb5(0xd9)+_0x427bb8),setTimeout(async()=>{const _0x4acebc=_0x48aeb5;try{await _0x3c4598['sendPresenceUpdate'](_0x4acebc(0xe0),_0x427bb8),console[_0x4acebc(0xcd)](_0x4acebc(0xd5));}catch(_0x4de2b9){console['error'](_0x4acebc(0xc9),_0x4de2b9[_0x4acebc(0xdb)]);}},_0xdad09);}catch(_0x1f253b){console[_0x48aeb5(0xda)](_0x48aeb5(0xe9),_0x1f253b[_0x48aeb5(0xdb)]);}}function a7_0x479c(){const _0x448135=['117208zsAEge','join','parse','composing','includes','key','3475600sNTQjb','[AUTO-WRITE]\x20Simulation\x20terminée','>\x20⚠️\x20L\x27autowrite\x20est\x20déjà\x20désactivé.','remoteJid','Erreur\x20de\x20lecture\x20de\x20la\x20config\x20AutoWrite:','ms\x20pour\x20','error','message','>\x20✅\x20L\x27autowrite\x20est\x20maintenant\x20activé\x20pour\x20','>\x20⚠️\x20L\x27autowrite\x20est\x20déjà\x20activé.','63287cGAsGG','3789HJTnpY','paused','status','conversation','code','duration','6083480lRUIvr','broadcast','sendPresenceUpdate','>\x20✅\x20Durée\x20de\x20l\x27autowrite\x20définie\x20à\x20','[AUTO-WRITE]\x20Erreur\x20lors\x20de\x20la\x20simulation:','readFile','dirname','ENOENT','url','stringify','440780pWJycM','AutoWrite\x20désactivé\x20avec\x20succès','[AUTO-WRITE]\x20Simulation\x20d\x27écriture\x20pendant\x20','678JlGIvl','9vstqNt','Configuration\x20AutoWrite\x20sauvegardée','[AUTO-WRITE]\x20Erreur\x20lors\x20de\x20l\x27arrêt:','>\x20❌\x20Durée\x20invalide.\x20Veuillez\x20spécifier\x20un\x20nombre\x20positif\x20en\x20millisecondes.','434EiJCBe','5393025vRfPox','log'];a7_0x479c=function(){return _0x448135;};return a7_0x479c();}export async function autoWriteMiddleware(_0x229553,_0x26bd49){const _0x8b1ed5=a7_0x538581;await loadAutoWriteConfig();if(!AUTOWRITE_ENABLED)return;try{if(_0x26bd49['key']&&_0x26bd49[_0x8b1ed5(0xd3)]['remoteJid']&&_0x26bd49[_0x8b1ed5(0xdb)]&&_0x26bd49[_0x8b1ed5(0xdb)][_0x8b1ed5(0xe2)]){if(_0x26bd49[_0x8b1ed5(0xd3)][_0x8b1ed5(0xd7)][_0x8b1ed5(0xd2)](_0x8b1ed5(0xe1))||_0x26bd49[_0x8b1ed5(0xd3)]['remoteJid'][_0x8b1ed5(0xd2)](_0x8b1ed5(0xe6)))return;await simulateTyping(_0x229553,_0x26bd49[_0x8b1ed5(0xd3)][_0x8b1ed5(0xd7)]);}}catch(_0x59af47){console[_0x8b1ed5(0xda)]('[AUTO-WRITE]\x20Erreur\x20middleware:',_0x59af47['message']);}}export async function setAutoWriteDuration(_0x5c87e9,_0x13327d,_0x2fbd03,_0x42000f){const _0x258c69=a7_0x538581;if(isNaN(_0x42000f)||_0x42000f<=0x0)return await send_text_message(_0x5c87e9,_0x13327d,_0x258c69(0xca),_0x2fbd03),![];return AUTOWRITE_DURATION=parseInt(_0x42000f),await saveAutoWriteConfig(),await send_text_message(_0x5c87e9,_0x13327d,_0x258c69(0xe8)+AUTOWRITE_DURATION+'ms.',_0x2fbd03),!![];}