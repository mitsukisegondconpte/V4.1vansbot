const a6_0x397443=a6_0x26d5;(function(_0xc05379,_0x50973d){const _0xb51408=a6_0x26d5,_0x53b316=_0xc05379();while(!![]){try{const _0xff00c0=parseInt(_0xb51408(0x122))/0x1+-parseInt(_0xb51408(0x107))/0x2+parseInt(_0xb51408(0x123))/0x3*(-parseInt(_0xb51408(0x114))/0x4)+-parseInt(_0xb51408(0x12b))/0x5+parseInt(_0xb51408(0x126))/0x6*(-parseInt(_0xb51408(0x129))/0x7)+parseInt(_0xb51408(0x124))/0x8*(-parseInt(_0xb51408(0x12d))/0x9)+parseInt(_0xb51408(0x10b))/0xa;if(_0xff00c0===_0x50973d)break;else _0x53b316['push'](_0x53b316['shift']());}catch(_0x45ce64){_0x53b316['push'](_0x53b316['shift']());}}}(a6_0x5bbd,0x25457));import a6_0x16aac5 from'fs/promises';import a6_0x4a59fc from'path';import{fileURLToPath}from'url';import{send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';const __dirname=a6_0x4a59fc[a6_0x397443(0x109)](fileURLToPath(import.meta[a6_0x397443(0x118)])),CONFIG_PATH=a6_0x4a59fc[a6_0x397443(0x128)](__dirname,a6_0x397443(0x127));let STATUS_WATCHER_ENABLED=![];function a6_0x26d5(_0x5a2fe5,_0x56b10e){const _0x5bbd8f=a6_0x5bbd();return a6_0x26d5=function(_0x26d514,_0x1ebc08){_0x26d514=_0x26d514-0x107;let _0x3dd6b7=_0x5bbd8f[_0x26d514];return _0x3dd6b7;},a6_0x26d5(_0x5a2fe5,_0x56b10e);}function a6_0x5bbd(){const _0x4b4c12=['[STATUS-WATCHER]\x20Erreur\x20légère:','imageMessage','224129FrRlcQ','6537hixzRZ','328jMlWHV','>\x20✅\x20Le\x20watcher\x20de\x20statuts\x20est\x20maintenant\x20désactivé.','102bGKedx','json/status_watcher_config.json','join','108101AgpfOV','message','752730SMSknl','>\x20⚠️\x20Le\x20watcher\x20de\x20statuts\x20est\x20déjà\x20activé.','59274aimTKa','>\x20✅\x20Le\x20watcher\x20de\x20statuts\x20est\x20maintenant\x20activé.','remoteJid','506992XzIEMD','code','dirname','extendedTextMessage','10525270hEFPsl','Configuration\x20sauvegardée','[STATUS-WATCHER]\x20Nouveau\x20statut\x20détecté\x20de','key','status@broadcast','utf-8','error','ENOENT','participant','344IrBEHx','Status\x20Watcher\x20désactivé\x20avec\x20succès','pushName','sendMessage','url','videoMessage','envoie\x20du\x20like','writeFile','Le\x20watcher\x20de\x20statuts\x20est\x20déjà\x20désactivé','readFile','envoi\x20de\x20la\x20presenceSubscribe','log'];a6_0x5bbd=function(){return _0x4b4c12;};return a6_0x5bbd();}async function loadConfig(){const _0x217667=a6_0x397443;try{const _0x19a427=await a6_0x16aac5[_0x217667(0x11d)](CONFIG_PATH,_0x217667(0x110)),_0x772cd3=JSON['parse'](_0x19a427);STATUS_WATCHER_ENABLED=_0x772cd3['enabled']||![];}catch(_0x53e77d){_0x53e77d[_0x217667(0x108)]===_0x217667(0x112)?await saveConfig():console[_0x217667(0x111)]('Erreur\x20de\x20lecture\x20de\x20la\x20config:',_0x53e77d);}}async function saveConfig(){const _0x9b1d4a=a6_0x397443,_0x2c8753={'enabled':STATUS_WATCHER_ENABLED};await a6_0x16aac5[_0x9b1d4a(0x11b)](CONFIG_PATH,JSON['stringify'](_0x2c8753,null,0x2)),console['log'](_0x9b1d4a(0x10c));}export async function enableStatusWatcher(_0x2cc399,_0x1b453b,_0x355dc9){const _0x319b6b=a6_0x397443;if(STATUS_WATCHER_ENABLED)return await send_text_message(_0x2cc399,_0x1b453b,_0x319b6b(0x12c),_0x355dc9),![];STATUS_WATCHER_ENABLED=!![],await send_text_message(_0x2cc399,_0x1b453b,_0x319b6b(0x12e),_0x355dc9),await saveConfig();}export async function disableStatusWatcher(_0x4792ec,_0x1b3d97,_0x40d9fb){const _0x1a5860=a6_0x397443;if(!STATUS_WATCHER_ENABLED)return console[_0x1a5860(0x11f)](_0x1a5860(0x11c)),await send_text_message(_0x4792ec,_0x1b3d97,'>\x20⚠️\x20Le\x20watcher\x20de\x20statuts\x20est\x20déjà\x20désactivé.',_0x40d9fb),![];return STATUS_WATCHER_ENABLED=![],await send_text_message(_0x4792ec,_0x1b3d97,_0x1a5860(0x125),_0x40d9fb),await saveConfig(),console[_0x1a5860(0x11f)](_0x1a5860(0x115)),!![];}export async function statusWatcher(_0x296d45,{messages:_0x43c081}){const _0x57ba60=a6_0x397443;try{for(const _0x352006 of _0x43c081){if(!_0x352006[_0x57ba60(0x10e)]||!_0x352006[_0x57ba60(0x10e)]['remoteJid'])continue;if(_0x352006[_0x57ba60(0x10e)]['remoteJid']!==_0x57ba60(0x10f))continue;if(!_0x352006[_0x57ba60(0x116)]||!_0x352006['message'])continue;await loadConfig();if(!STATUS_WATCHER_ENABLED)return;const _0x44133d=_0x352006[_0x57ba60(0x12a)][_0x57ba60(0x121)]||_0x352006[_0x57ba60(0x12a)][_0x57ba60(0x119)]||_0x352006[_0x57ba60(0x12a)][_0x57ba60(0x10a)];if(!_0x44133d)return;console['log'](_0x57ba60(0x10d),_0x352006[_0x57ba60(0x116)]),console[_0x57ba60(0x11f)](_0x57ba60(0x11e)),await _0x296d45['readMessages']([{'remoteJid':_0x57ba60(0x10f),'id':_0x352006[_0x57ba60(0x10e)]['id'],'participant':_0x352006[_0x57ba60(0x10e)][_0x57ba60(0x113)]||_0x352006[_0x57ba60(0x10e)]['remoteJid']}]),console['log'](_0x57ba60(0x11a)),await _0x296d45[_0x57ba60(0x117)](_0x352006[_0x57ba60(0x10e)][_0x57ba60(0x12f)],{'react':{'text':'❤️','key':_0x352006['key']}});}}catch(_0x4cf1c8){console[_0x57ba60(0x111)](_0x57ba60(0x120),_0x4cf1c8[_0x57ba60(0x12a)]);}}