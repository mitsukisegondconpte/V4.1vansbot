const a3_0x543b57=a3_0x2833;(function(_0x9a3d2f,_0x5382ff){const _0x8bfba1=a3_0x2833,_0x4d0910=_0x9a3d2f();while(!![]){try{const _0x2ae5af=-parseInt(_0x8bfba1(0x19c))/0x1*(parseInt(_0x8bfba1(0x18c))/0x2)+parseInt(_0x8bfba1(0x1bb))/0x3*(-parseInt(_0x8bfba1(0x1a9))/0x4)+-parseInt(_0x8bfba1(0x196))/0x5+parseInt(_0x8bfba1(0x1b1))/0x6+parseInt(_0x8bfba1(0x1a1))/0x7*(parseInt(_0x8bfba1(0x1b4))/0x8)+parseInt(_0x8bfba1(0x18f))/0x9+parseInt(_0x8bfba1(0x19b))/0xa*(-parseInt(_0x8bfba1(0x1b7))/0xb);if(_0x2ae5af===_0x5382ff)break;else _0x4d0910['push'](_0x4d0910['shift']());}catch(_0x3195c7){_0x4d0910['push'](_0x4d0910['shift']());}}}(a3_0x1af2,0x98023));import a3_0x2f08d7 from'fs/promises';import a3_0x16a684 from'path';import{fileURLToPath}from'url';import{delete_message,send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';import{isAdmin}from'../utils/gestion_groupe.js';import{log}from'console';const __dirname=a3_0x16a684[a3_0x543b57(0x1a2)](fileURLToPath(import.meta[a3_0x543b57(0x1be)])),ANTIMENTION_FILE=a3_0x16a684[a3_0x543b57(0x1b3)](__dirname,a3_0x543b57(0x1a0)),defaultConfig={'groupesActives':{},'parametresGlobaux':{'supprimerMessage':!![],'avertir':!![],'expulser':!![],'maxTentatives':0x3},'tentatives':{}};let config={...defaultConfig};async function chargerConfig(){const _0x37412e=a3_0x543b57;try{await a3_0x2f08d7[_0x37412e(0x18e)](a3_0x16a684['dirname'](ANTIMENTION_FILE),{'recursive':!![]}),await a3_0x2f08d7[_0x37412e(0x1c2)](ANTIMENTION_FILE);const _0x1f287c=await a3_0x2f08d7[_0x37412e(0x1c5)](ANTIMENTION_FILE,'utf-8'),_0x48aa6b=JSON[_0x37412e(0x1c3)](_0x1f287c),_0x5af169=Date['now']();for(const _0x3ea76a in _0x48aa6b['tentatives']){_0x5af169-_0x48aa6b[_0x37412e(0x19f)][_0x3ea76a][_0x37412e(0x1bd)]>0x5265c00&&delete _0x48aa6b[_0x37412e(0x19f)][_0x3ea76a];}return{...defaultConfig,..._0x48aa6b};}catch(_0x2c9e85){return _0x2c9e85[_0x37412e(0x190)]!==_0x37412e(0x19d)&&console[_0x37412e(0x1b9)]('[AntiMention]\x20Erreur\x20chargement\x20config:',_0x2c9e85),{...defaultConfig};}}async function sauvegarderConfig(){const _0x2dcbf2=a3_0x543b57;try{await a3_0x2f08d7['writeFile'](ANTIMENTION_FILE,JSON[_0x2dcbf2(0x1a4)](config,null,0x2),'utf-8');}catch(_0x4f8e93){console['error'](_0x2dcbf2(0x1c9),_0x4f8e93);}}((async()=>{config=await chargerConfig();})());async function enregistrerTentative(_0x2b8924,_0x366e5a){const _0x1ff040=a3_0x543b57,_0x443b25=_0x2b8924+':'+_0x366e5a,_0x566abd=Date[_0x1ff040(0x1ca)]();return config['tentatives'][_0x443b25]={'count':(config[_0x1ff040(0x19f)][_0x443b25]?.[_0x1ff040(0x192)]||0x0)+0x1,'lastAttempt':_0x566abd},await sauvegarderConfig(),config['tentatives'][_0x443b25]['count'];}async function resetTentatives(_0x34f901,_0x55091c){const _0x2057a3=a3_0x543b57,_0x2f8df7=_0x34f901+':'+_0x55091c;config[_0x2057a3(0x19f)][_0x2f8df7]&&(delete config[_0x2057a3(0x19f)][_0x2f8df7],await sauvegarderConfig());}function detecterMentionsGroupe(_0x21649b,_0x55ca27){const _0x1e54ea=a3_0x543b57;if(!_0x21649b||!_0x55ca27)return![];log(_0x1e54ea(0x1a5),JSON[_0x1e54ea(0x1a4)](_0x21649b,null,0x2));if(_0x21649b[_0x1e54ea(0x1cc)]&&_0x21649b[_0x1e54ea(0x1cc)]['groupStatusMentionMessage'])return log(_0x1e54ea(0x19a)),!![];return![];}function a3_0x2833(_0x3d5809,_0x367552){const _0x1af232=a3_0x1af2();return a3_0x2833=function(_0x283376,_0x3a876e){_0x283376=_0x283376-0x18a;let _0x2d60d3=_0x1af232[_0x283376];return _0x2d60d3;},a3_0x2833(_0x3d5809,_0x367552);}export function creerAntiMentionBaileys(_0x5639cc,_0x5c2150,_0x6dd751){return async()=>{const _0x1ad1b6=a3_0x2833;try{if(!_0x5c2150[_0x1ad1b6(0x1cc)]||!_0x6dd751[_0x1ad1b6(0x1ac)](_0x1ad1b6(0x1b8)))return;if(_0x5c2150[_0x1ad1b6(0x1cc)][_0x1ad1b6(0x1c6)]||_0x5c2150[_0x1ad1b6(0x1cc)][_0x1ad1b6(0x1ce)])return;const _0x571de0=config[_0x1ad1b6(0x1af)][_0x6dd751];if(!_0x571de0)return;const _0xa50c7c=_0x5c2150[_0x1ad1b6(0x1a3)][_0x1ad1b6(0x18d)];if(!_0xa50c7c||await isAdmin(_0x5639cc,_0x6dd751,_0xa50c7c)){log(_0x1ad1b6(0x1a8),{'senderId':_0xa50c7c});return;}log(_0x1ad1b6(0x18a),{'senderId':_0xa50c7c,'jid':_0x6dd751});const _0x95e685=detecterMentionsGroupe(_0x5c2150,_0x6dd751);if(!_0x95e685)return;log(_0x1ad1b6(0x199),{'senderId':_0xa50c7c,'jid':_0x6dd751});const _0x13370e=_0xa50c7c[_0x1ad1b6(0x1bc)]('@')[0x0],_0xe306db=await enregistrerTentative(_0x6dd751,_0xa50c7c);_0x571de0[_0x1ad1b6(0x1a6)]!==![]&&setTimeout(()=>delete_message(_0x5639cc,_0x5c2150,_0x6dd751,_0x5c2150[_0x1ad1b6(0x1a3)])[_0x1ad1b6(0x191)](()=>{}),0x3e8),_0x571de0['avertir']!==![]&&await send_text_message(_0x5639cc,_0x5c2150,_0x1ad1b6(0x1b5)+_0x13370e+_0x1ad1b6(0x1ae)+_0xe306db+'/'+(_0x571de0[_0x1ad1b6(0x195)]||0x3)+')',_0x6dd751,[_0xa50c7c],![],!![],![]),_0xe306db>=(_0x571de0[_0x1ad1b6(0x195)]||0x3)&&_0x571de0['expulser']&&(await _0x5639cc[_0x1ad1b6(0x1b0)](_0x6dd751,[_0xa50c7c],_0x1ad1b6(0x1ab))[_0x1ad1b6(0x191)](()=>{}),await send_text_message(_0x5639cc,_0x5c2150,_0x1ad1b6(0x18b)+_0x13370e+_0x1ad1b6(0x194),_0x6dd751,[_0xa50c7c],![],!![],![]),await resetTentatives(_0x6dd751,_0xa50c7c));}catch(_0x23e4e2){console[_0x1ad1b6(0x1b9)](_0x1ad1b6(0x198),_0x23e4e2);}};}export async function ajouterGroupeAntimention(_0xbd43ed,_0x41890a,_0x1f29fa,_0x69919){const _0x8f6be1=a3_0x543b57;if(!_0x69919)return await send_reaction_message(_0xbd43ed,_0x41890a,_0x1f29fa,'❌'),await send_text_message(_0xbd43ed,_0x41890a,_0x8f6be1(0x1cb),_0x1f29fa),![];const _0x1d6598=_0x41890a[_0x8f6be1(0x1a3)]['participant'];if(!await isAdmin(_0xbd43ed,_0x1f29fa,_0x1d6598))return await send_reaction_message(_0xbd43ed,_0x41890a,_0x1f29fa,'❌'),await send_text_message(_0xbd43ed,_0x41890a,_0x8f6be1(0x1ad),_0x1f29fa),![];return!config['groupesActives'][_0x1f29fa]?(config[_0x8f6be1(0x1af)][_0x1f29fa]={...config[_0x8f6be1(0x1c7)]},await sauvegarderConfig(),await send_reaction_message(_0xbd43ed,_0x41890a,_0x1f29fa,'✅'),await send_text_message(_0xbd43ed,_0x41890a,_0x8f6be1(0x197)+(_0x8f6be1(0x1c0)+(config[_0x8f6be1(0x1c7)][_0x8f6be1(0x1a6)]?'✅':'❌')+'\x0a')+(_0x8f6be1(0x1bf)+(config[_0x8f6be1(0x1c7)]['avertir']?'✅':'❌')+'\x0a')+('▸\x20Expulsion:\x20'+(config['parametresGlobaux']['expulser']?'✅':'❌')+'\x0a')+'▸\x20Détection:\x20Mentions\x20de\x20groupe\x20dans\x20les\x20statuts/messages',_0x1f29fa),!![]):(await send_reaction_message(_0xbd43ed,_0x41890a,_0x1f29fa,'ℹ️'),await send_text_message(_0xbd43ed,_0x41890a,'>\x20ℹ️\x20Déjà\x20activé',_0x1f29fa),![]);}export async function supprimerGroupeAntimention(_0x48c80b,_0x8bbb4e,_0x4c1298,_0x4dc0ed){const _0x497587=a3_0x543b57;if(!_0x4dc0ed)return await send_reaction_message(_0x48c80b,_0x8bbb4e,_0x4c1298,'❌'),await send_text_message(_0x48c80b,_0x8bbb4e,_0x497587(0x1cb),_0x4c1298),![];const _0x4fd546=_0x8bbb4e[_0x497587(0x1a3)][_0x497587(0x18d)];if(!await isAdmin(_0x48c80b,_0x4c1298,_0x4fd546))return await send_reaction_message(_0x48c80b,_0x8bbb4e,_0x4c1298,'❌'),await send_text_message(_0x48c80b,_0x8bbb4e,_0x497587(0x1ad),_0x4c1298),![];if(config[_0x497587(0x1af)][_0x4c1298])return delete config[_0x497587(0x1af)][_0x4c1298],await sauvegarderConfig(),await send_reaction_message(_0x48c80b,_0x8bbb4e,_0x4c1298,'✅'),await send_text_message(_0x48c80b,_0x8bbb4e,_0x497587(0x193),_0x4c1298),!![];return await send_reaction_message(_0x48c80b,_0x8bbb4e,_0x4c1298,'ℹ️'),await send_text_message(_0x48c80b,_0x8bbb4e,_0x497587(0x1b6),_0x4c1298),![];}export async function listerGroupesAntimention(){const _0x587d63=a3_0x543b57;return Object[_0x587d63(0x1c4)](config['groupesActives'])[_0x587d63(0x1b2)](_0x1503f3=>_0x1503f3[_0x587d63(0x1bc)]('@')[0x0])[_0x587d63(0x1b3)]('\x0a')||_0x587d63(0x1cd);}export async function verifierStatutAntiMention(_0x1da00b,_0x3cc35e,_0x4058bc,_0x1c14d8){const _0x15c887=a3_0x543b57;try{const _0x860e1a=config[_0x15c887(0x1af)][_0x3cc35e];if(!_0x860e1a)return;if(await isAdmin(_0x1da00b,_0x3cc35e,_0x4058bc)){log(_0x15c887(0x1c8),{'userId':_0x4058bc});return;}const _0x52f062=detecterMentionsGroupe(_0x1c14d8,_0x3cc35e);if(!_0x52f062)return;const _0x3a9afe=_0x4058bc[_0x15c887(0x1bc)]('@')[0x0],_0xf7845c=await enregistrerTentative(_0x3cc35e,_0x4058bc);_0x860e1a[_0x15c887(0x19e)]!==![]&&await send_text_message(_0x1da00b,null,_0x15c887(0x1b5)+_0x3a9afe+_0x15c887(0x1ba)+_0xf7845c+'/'+(_0x860e1a[_0x15c887(0x195)]||0x3)+')',_0x3cc35e,[_0x4058bc],![],!![],![]),_0xf7845c>=(_0x860e1a[_0x15c887(0x195)]||0x3)&&_0x860e1a[_0x15c887(0x1aa)]&&(await _0x1da00b[_0x15c887(0x1b0)](_0x3cc35e,[_0x4058bc],_0x15c887(0x1ab))[_0x15c887(0x191)](()=>{}),await send_text_message(_0x1da00b,null,_0x15c887(0x18b)+_0x3a9afe+_0x15c887(0x1a7),_0x3cc35e,[_0x4058bc],![],!![],![]),await resetTentatives(_0x3cc35e,_0x4058bc));}catch(_0x140854){console['error'](_0x15c887(0x1c1),_0x140854);}}function a3_0x1af2(){const _0x504c06=[',\x20mention\x20de\x20groupe\x20interdite\x20détectée\x20dans\x20votre\x20statut\x20!\x20(','47001etQrdy','split','lastAttempt','url','▸\x20Avertissement:\x20','▸\x20Suppression:\x20','[AntiMention\x20Statut]\x20Erreur:','access','parse','keys','readFile','protocolMessage','parametresGlobaux','Admin\x20détecté\x20dans\x20statut\x20-\x20Ignoré','[AntiMention]\x20Erreur\x20sauvegarde\x20config:','now','>\x20⚠️\x20Commande\x20réservée\x20aux\x20groupes','message','Aucun\x20groupe','reactionMessage','Vérification\x20AntiMention\x20pour','>\x20❌\x20@','2yIBHUq','participant','mkdir','5884911BgRmNT','code','catch','count','>\x20🔇\x20AntiMention\x20désactivé','\x20expulsé\x20pour\x20mentions\x20de\x20groupe\x20répétées','maxTentatives','437735BrKMcU','>\x20🔇\x20AntiMention\x20activé\x0a','[AntiMention]\x20Erreur:','Mention\x20de\x20groupe\x20détectée\x20dans\x20le\x20message','Mention\x20de\x20groupe\x20détectée\x20via\x20groupStatusMentionMessage','10GlxIvH','73063lredDN','ENOENT','avertir','tentatives','json/antimention.json','7BiFqev','dirname','key','stringify','le\x20msg\x20est\x20:','supprimerMessage','\x20expulsé\x20pour\x20mentions\x20de\x20groupe\x20répétées\x20dans\x20les\x20statuts','Admin\x20détecté\x20-\x20Ignoré','64zPPeob','expulser','remove','endsWith','>\x20⚠️\x20Admin\x20requis',',\x20mention\x20de\x20groupe\x20interdite\x20détectée\x20!\x20(','groupesActives','groupParticipantsUpdate','6969684hhTrUR','map','join','4083032gGOXOl','>\x20⚠️\x20@','>\x20ℹ️\x20Non\x20activé','14211593zIRajx','@g.us','error'];a3_0x1af2=function(){return _0x504c06;};return a3_0x1af2();}